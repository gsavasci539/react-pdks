(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{456:function(e,a,t){e.exports=t(684)},684:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(401),i=t.n(r),o=t(205),c=t(12),m=t(421),s=t(791),d=t(785),u=t(801),E=t(806),p=t(807),h=t(170),g=t(802),y=t(763),b=t(809),v=t(793),f=t(691),S=t(764),k=t(810),x=t(748),w=t(749),D=t(750),O=t(751),j=t(752),C=t(753),I=t(754),_=t(762),T=t(765),F=t(766),z=t(767),W=t(787);const N=Object(l.createContext)(null),P=e=>{let{children:a}=e;const[t,r]=Object(l.useState)(null),[i,o]=Object(l.useState)(localStorage.getItem("token")),c={user:t,token:i,login:async(e,a)=>{try{const l=await W.a.post("http://89.252.184.134:5001/login",{email:e,password:a}),{token:n}=l.data;return localStorage.setItem("token",n),o(n),!0}catch(t){return console.error("Login error:",t),!1}},logout:()=>{localStorage.removeItem("token"),o(null),r(null)}};return n.a.createElement(N.Provider,{value:c},a)},$=()=>{const e=Object(l.useContext)(N);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};var A=t(7),L=t(48),B=t(805);const R=240,K=Object(A.a)(B.a,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:a,open:t}=e;return{transition:a.transitions.create(["margin","width"],{easing:a.transitions.easing.sharp,duration:a.transitions.duration.leavingScreen}),...t&&{width:`calc(100% - ${R}px)`,marginLeft:`${R}px`,transition:a.transitions.create(["margin","width"],{easing:a.transitions.easing.easeOut,duration:a.transitions.duration.enteringScreen})},boxShadow:a.shadows[4]}}),H=Object(A.a)("div")(e=>{let{theme:a}=e;return{display:"flex",alignItems:"center",padding:a.spacing(0,1),...a.mixins.toolbar,justifyContent:"flex-end"}}),q=Object(A.a)("footer")(e=>{let{theme:a}=e;return{backgroundColor:a.palette.background.paper,padding:a.spacing(2),textAlign:"center"}});var G=function(){const e=Object(L.a)(),[a,t]=Object(l.useState)(!1),[r,i]=Object(l.useState)({}),{logout:o}=$(),m=Object(c.q)(),s=Object(c.o)(),[d,W]=Object(l.useState)(!1),N=Object(l.useRef)(null);Object(l.useEffect)(()=>{const l=()=>{W(window.innerWidth<=e.breakpoints.values.sm),window.innerWidth<=e.breakpoints.values.sm&&t(!1)};l(),window.addEventListener("resize",l);const n=e=>{d&&a&&N.current&&!N.current.contains(e.target)&&A()};return document.addEventListener("mousedown",n),()=>{window.removeEventListener("resize",l),document.removeEventListener("mousedown",n)}},[e.breakpoints.values.sm,d,a]);const P=[{text:"Anasayfa",icon:n.a.createElement(x.a,null),path:"/"},{text:"\xc7al\u0131\u015fanlar",icon:n.a.createElement(w.a,null),path:"/employees"},{text:"Giri\u015f-\xc7\u0131k\u0131\u015f",icon:n.a.createElement(D.a,null),path:"/attendance"},{text:"\u0130zin Talepleri",icon:n.a.createElement(O.a,null),path:"/leave-requests"},{text:"Maa\u015f",icon:n.a.createElement(j.a,null),path:"/salary"},{text:"Ayarlar",icon:n.a.createElement(C.a,null),children:[{text:"RFID Kartlar",path:"/rfidcards"}]}],A=()=>{t(!1),i({})},B=e=>{m(e),d&&A()};return n.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"}},n.a.createElement(K,{position:"static",open:a},n.a.createElement(E.a,null,n.a.createElement(p.a,{color:"inherit","aria-label":"open drawer",onClick:()=>{t(!0)},edge:"start",sx:{mr:2,...a&&{display:"none"}}},n.a.createElement(I.a,null)),n.a.createElement(h.a,{variant:"h6",noWrap:!0,component:"div"},"PDKS System"))),n.a.createElement(u.a,{sx:{display:"flex",flexGrow:1}},n.a.createElement(g.a,{ref:N,sx:{width:R,flexShrink:0,"& .MuiDrawer-paper":{width:R,boxSizing:"border-box",backgroundColor:"#f5f5f5"}},variant:d?"temporary":"persistent",anchor:"left",open:a,onClose:d?A:void 0},n.a.createElement(H,null,n.a.createElement(p.a,{onClick:A},n.a.createElement(_.a,null))),n.a.createElement(y.a,null),n.a.createElement(b.a,null,P.map((a,t)=>n.a.createElement(n.a.Fragment,{key:a.text},a.children?n.a.createElement(n.a.Fragment,null,n.a.createElement(v.a,{button:!0,onClick:()=>(e=>{i(a=>({...a,[e]:!a[e]}))})(t)},n.a.createElement(f.a,null,a.icon),n.a.createElement(S.a,{primary:a.text}),r[t]?n.a.createElement(T.a,null):n.a.createElement(F.a,null)),n.a.createElement(k.a,{in:r[t],timeout:"auto",unmountOnExit:!0},n.a.createElement(b.a,{component:"div",disablePadding:!0},a.children.map(a=>n.a.createElement(v.a,{button:!0,key:a.text,onClick:()=>B(a.path),sx:{pl:4,backgroundColor:s.pathname===a.path?e.palette.action.selected:null}},n.a.createElement(S.a,{primary:a.text})))))):n.a.createElement(v.a,{button:!0,onClick:()=>B(a.path),sx:{backgroundColor:s.pathname===a.path?e.palette.action.selected:null}},n.a.createElement(f.a,null,a.icon),n.a.createElement(S.a,{primary:a.text})))),n.a.createElement(y.a,null),n.a.createElement(v.a,{button:!0,onClick:()=>{o(),m("/login")}},n.a.createElement(f.a,null,n.a.createElement(z.a,null)),n.a.createElement(S.a,{primary:"Logout"})))),n.a.createElement(u.a,{component:"main",sx:{flexGrow:1,p:3,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:`-${R}px`,...a&&!d&&{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},...a&&d&&{marginLeft:0}}},n.a.createElement(H,null),n.a.createElement(c.a,null))),n.a.createElement(q,null,n.a.createElement(h.a,{variant:"body2",color:"text.secondary",align:"center"},`Copyright \xa9 PDKS System By ByteBridge Software Solutions ${(new Date).getFullYear()}`)))},M=t(803),Y=t(800),J=t(811),Z=t(812),V=t(813),X=t(814),Q=t(815),U=t(816),ee=t(817),ae=t(818),te=t(819),le=t(776),ne=t(820),re=t(821),ie=t(797),oe=t(768),ce=t(769),me=t(770),se=t(771),de=t(772),ue=t(795),Ee=t(416),pe=t(213),he=t(773),ge=t(774),ye=t(214),be=t(215),ve=t(419),fe=t(775),Se=t(224);var ke=function(){const[e,a]=Object(l.useState)(0),[t,r]=Object(l.useState)(0),[i,o]=Object(l.useState)(0),[c,m]=Object(l.useState)(0),[s,d]=Object(l.useState)(0),[E,p]=Object(l.useState)(0),[g,y]=Object(l.useState)(0),[b,v]=Object(l.useState)(0),[f,S]=Object(l.useState)([]),[k,x]=Object(l.useState)([]),[D,j]=Object(l.useState)([]),[C,I]=Object(l.useState)([]),[_,T]=Object(l.useState)([]),[F,z]=Object(l.useState)(null),[W,N]=Object(l.useState)(!1),[P,$]=Object(l.useState)([]),[A,L]=Object(l.useState)([]),[B,R]=Object(l.useState)([]),[K,H]=Object(l.useState)([]),[q,G]=Object(l.useState)([]),[ke,xe]=Object(l.useState)(null),[we,De]=Object(l.useState)(!1);Object(l.useEffect)(()=>{const e=()=>{fetch("http://89.252.184.134:5001/employees").then(e=>e.json()).then(e=>{a(e.length);const t=new Set(e.map(e=>e.Department||e.department));m(t.size);const l=Array.from(t).map(a=>({name:a,value:e.filter(e=>(e.Department||e.department)===a).length}));S(l);const n={};e.forEach(e=>{let a=e.HireDate||e.hireDate,t="Bilinmiyor";if(a&&"string"===typeof a){const e=new Date(a);isNaN(e.getTime())||(t=String(e.getFullYear()))}n[t]||(n[t]=0),n[t]+=1});const r=Object.keys(n).map(e=>({hireDate:e,value:n[e]}));x(r);const i=e.reduce((e,a)=>e+Number(a.salary||a.base_salary||a.BaseSalary||0),0);d(e.length>0?i/e.length:0);const o=e.map(e=>{let a=e.salary||e.base_salary||e.BaseSalary||0;return{salary:a=isNaN(Number(a))?0:Number(a)}});j(o),$(e),console.log("salaryData:",o)}).catch(e=>{console.error("\xc7al\u0131\u015fan verileri al\u0131n\u0131rken hata olu\u015ftu:",e)})},t=()=>{fetch("http://89.252.184.134:5001/leave-requests").then(e=>e.json()).then(e=>{r(e.length),L(e)}).catch(e=>{console.error("\u0130zin verileri al\u0131n\u0131rken hata olu\u015ftu:",e)})},l=()=>{fetch("http://89.252.184.134:5001/projects").then(e=>e.json()).then(e=>{o(e.length);const a=e.filter(e=>"Active"===e.status);p(a.length),R(e)}).catch(e=>{console.error("Proje verileri al\u0131n\u0131rken hata olu\u015ftu:",e)})},n=()=>{fetch("http://89.252.184.134:5001/meeting-rooms").then(e=>e.json()).then(e=>{y(e.length),H(e)}).catch(e=>{console.error("Toplant\u0131 odas\u0131 verileri al\u0131n\u0131rken hata olu\u015ftu:",e)})},i=()=>{fetch("http://89.252.184.134:5001/payrolls").then(e=>e.json()).then(e=>{v(e.length),G(e)}).catch(e=>{console.error("Bordro verileri al\u0131n\u0131rken hata olu\u015ftu:",e)})},c=()=>{fetch("http://89.252.184.134:5001/attendance").then(e=>e.json()).then(e=>{const a=new Map;e.attendance.forEach(e=>{(!a.has(e.EmployeeID)||new Date(e.EntryTime)>new Date(a.get(e.EmployeeID).EntryTime))&&a.set(e.EmployeeID,e)});const t=Array.from(a.values()).map(e=>({employeeName:e.EmployeeID,entryTime:Oe(e.EntryTime),exitTime:Oe(e.ExitTime),totalHours:je(e.EntryTime,e.ExitTime)}));I(t)}).catch(e=>{console.error("Giri\u015f-\xe7\u0131k\u0131\u015f verileri al\u0131n\u0131rken hata olu\u015ftu:",e)})};e(),t(),l(),n(),i(),c();const s=setInterval(()=>{e(),t(),l(),n(),i(),c()},6e5);return()=>clearInterval(s)},[]),Object(l.useEffect)(()=>{const e=C.map(e=>{const a=parseFloat(e.totalHours),t=a>8?a-8:0;return{employeeName:e.employeeName,totalHours:a.toFixed(2),overtimeHours:t.toFixed(2)}});T(e)},[C]);const Oe=e=>{if(!e)return"Bilinmiyor";const a=new Date(e);return`${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}-${a.getFullYear()} ${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}:${String(a.getSeconds()).padStart(2,"0")}`},je=(e,a)=>{if(!e||!a)return"Bilinmiyor";const t=new Date(e);return((new Date(a)-t)/36e5).toFixed(2)},Ce=[{title:"Toplam \xc7al\u0131\u015fan",value:e,icon:n.a.createElement(w.a,{sx:{fontSize:40}}),color:"#1976d2",details:`Toplam \xe7al\u0131\u015fan say\u0131s\u0131: ${e}`},{title:"\u0130zinli \xc7al\u0131\u015fan",value:t,icon:n.a.createElement(O.a,{sx:{fontSize:40}}),color:"#ed6c02",details:`Toplam izinli \xe7al\u0131\u015fan say\u0131s\u0131: ${t}`},{title:"Toplam Proje",value:i,icon:n.a.createElement(oe.a,{sx:{fontSize:40}}),color:"#3f51b5",details:`Toplam proje say\u0131s\u0131: ${i}`},{title:"Departmanlar",value:c,icon:n.a.createElement(ce.a,{sx:{fontSize:40}}),color:"#9c27b0",details:`Toplam departman say\u0131s\u0131: ${c}`},{title:"Ortalama Maa\u015f",value:`${s.toFixed(2)} \u20ba`,icon:n.a.createElement(me.a,{sx:{fontSize:40}}),color:"#4caf50",details:`Ortalama maa\u015f: ${s.toFixed(2)} \u20ba`},{title:"Aktif Projeler",value:E,icon:n.a.createElement(oe.a,{sx:{fontSize:40}}),color:"#ff9800",details:`Toplam aktif proje say\u0131s\u0131: ${E}`},{title:"Toplant\u0131 Odalar\u0131",value:g,icon:n.a.createElement(se.a,{sx:{fontSize:40}}),color:"#00bcd4",details:`Toplam toplant\u0131 odas\u0131 say\u0131s\u0131: ${g}`},{title:"Bordrolar",value:b,icon:n.a.createElement(de.a,{sx:{fontSize:40}}),color:"#ff5722",details:`Toplam bordro say\u0131s\u0131: ${b}`}],Ie=["#1976d2","#ed6c02","#3f51b5","#9c27b0","#4caf50","#ff9800","#00bcd4","#ff5722"],_e=()=>{N(!1)},Te=e=>{xe(e),De(!0)},Fe=()=>{De(!1)};return n.a.createElement(u.a,{sx:{flexGrow:1}},n.a.createElement(M.a,{container:!0,spacing:3},Ce.map(e=>n.a.createElement(M.a,{item:!0,xs:12,sm:6,md:3,key:e.title},n.a.createElement(Y.a,{elevation:3},n.a.createElement(J.a,{onClick:()=>{"Toplam \xc7al\u0131\u015fan"===e.title?Te(P):"\u0130zinli \xc7al\u0131\u015fan"===e.title?Te(A):"Toplam Proje"===e.title?Te(B):"Toplant\u0131 Odalar\u0131"===e.title?Te(K):"Bordrolar"===e.title&&Te(q)}},n.a.createElement(Z.a,null,n.a.createElement(u.a,{sx:{display:"flex",alignItems:"center",mb:1}},n.a.createElement(u.a,{sx:{backgroundColor:e.color,borderRadius:1,p:1,color:"white",mr:2}},e.icon),n.a.createElement(u.a,null,n.a.createElement(h.a,{variant:"h4",component:"div",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},e.value),n.a.createElement(h.a,{variant:"body2",color:"text.secondary"},e.title)))))))),n.a.createElement(M.a,{item:!0,xs:12,md:6},n.a.createElement(Y.a,{elevation:3},n.a.createElement(J.a,null,n.a.createElement(Z.a,null,n.a.createElement(h.a,{variant:"h6",component:"div",gutterBottom:!0},"Departman Da\u011f\u0131l\u0131m\u0131"),n.a.createElement(ue.a,{width:400,height:300},n.a.createElement(Ee.a,{data:f,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:e=>{let{name:a,value:t}=e;return`${a}: ${t}`}},f.map((e,a)=>n.a.createElement(pe.a,{key:`cell-${a}`,fill:Ie[a%Ie.length]})))))))),n.a.createElement(M.a,{item:!0,xs:12,md:6},n.a.createElement(Y.a,{elevation:3},n.a.createElement(J.a,null,n.a.createElement(Z.a,null,n.a.createElement(h.a,{variant:"h6",component:"div",gutterBottom:!0},"\u0130\u015fe Al\u0131m Tarihi Da\u011f\u0131l\u0131m\u0131"),n.a.createElement(he.a,{width:400,height:300,data:k},n.a.createElement(ge.a,{strokeDasharray:"3 3"}),n.a.createElement(ye.a,{dataKey:"hireDate"}),n.a.createElement(be.a,null),n.a.createElement(ve.a,{type:"monotone",dataKey:"value",stroke:"#8884d8",activeDot:{r:8}})))))),n.a.createElement(M.a,{item:!0,xs:12,md:6},n.a.createElement(Y.a,{elevation:3},n.a.createElement(J.a,null,n.a.createElement(Z.a,null,n.a.createElement(h.a,{variant:"h6",component:"div",gutterBottom:!0},"Maa\u015f Da\u011f\u0131l\u0131m\u0131"),n.a.createElement(fe.a,{width:400,height:300,data:D},n.a.createElement(ge.a,{strokeDasharray:"3 3"}),n.a.createElement(ye.a,{dataKey:"salary"}),n.a.createElement(be.a,null),n.a.createElement(Se.a,{dataKey:"salary",fill:"#8884d8"})))))),n.a.createElement(M.a,{item:!0,xs:12,md:6},n.a.createElement(Y.a,{elevation:3},n.a.createElement(J.a,null,n.a.createElement(Z.a,null,n.a.createElement(h.a,{variant:"h6",component:"div",gutterBottom:!0},"Giri\u015f-\xc7\u0131k\u0131\u015f Tablosu"),n.a.createElement(V.a,null,n.a.createElement(X.a,null,n.a.createElement(Q.a,null,n.a.createElement(U.a,null,n.a.createElement(ee.a,null,"\xc7al\u0131\u015fan Ad\u0131"),n.a.createElement(ee.a,null,"Giri\u015f Saati"),n.a.createElement(ee.a,null,"\xc7\u0131k\u0131\u015f Saati"),n.a.createElement(ee.a,null,"Toplam \xc7al\u0131\u015fma S\xfcresi"))),n.a.createElement(ae.a,null,C.map(e=>n.a.createElement(U.a,{key:e.employeeName},n.a.createElement(ee.a,null,e.employeeName),n.a.createElement(ee.a,null,e.entryTime),n.a.createElement(ee.a,null,e.exitTime),n.a.createElement(ee.a,null,e.totalHours)))))))))),n.a.createElement(M.a,{item:!0,xs:12,md:6},n.a.createElement(Y.a,{elevation:3},n.a.createElement(J.a,null,n.a.createElement(Z.a,null,n.a.createElement(h.a,{variant:"h6",component:"div",gutterBottom:!0},"\xc7al\u0131\u015fma S\xfcresi Tablosu"),n.a.createElement(V.a,null,n.a.createElement(X.a,null,n.a.createElement(Q.a,null,n.a.createElement(U.a,null,n.a.createElement(ee.a,null,"\xc7al\u0131\u015fan Ad\u0131"),n.a.createElement(ee.a,null,"Toplam \xc7al\u0131\u015fma S\xfcresi"),n.a.createElement(ee.a,null,"Fazla Mesai S\xfcresi"))),n.a.createElement(ae.a,null,_.map(e=>n.a.createElement(U.a,{key:e.employeeName},n.a.createElement(ee.a,null,e.employeeName),n.a.createElement(ee.a,null,e.totalHours),n.a.createElement(ee.a,null,e.overtimeHours)))))))))),n.a.createElement(M.a,{item:!0,xs:12},n.a.createElement(Y.a,{elevation:3}))),n.a.createElement(te.a,{open:W,onClose:_e},n.a.createElement(le.a,null,null===F||void 0===F?void 0:F.title),n.a.createElement(ne.a,null,n.a.createElement(h.a,null,null===F||void 0===F?void 0:F.details)),n.a.createElement(re.a,null,n.a.createElement(ie.a,{onClick:_e,color:"primary"},"Kapat"))),n.a.createElement(te.a,{open:we,onClose:Fe,fullWidth:!0,maxWidth:"md"},n.a.createElement(le.a,null,"JSON Verileri"),n.a.createElement(ne.a,null,ke&&n.a.createElement(V.a,null,n.a.createElement(X.a,null,n.a.createElement(Q.a,null,n.a.createElement(U.a,null,Object.keys(ke[0]).map(e=>n.a.createElement(ee.a,{key:e},e)))),n.a.createElement(ae.a,null,ke.map((e,a)=>n.a.createElement(U.a,{key:a},Object.values(e).map((e,a)=>n.a.createElement(ee.a,{key:a},String(e))))))))),n.a.createElement(re.a,null,n.a.createElement(ie.a,{onClick:Fe,color:"primary"},"Kapat"))))},xe=t(822),we=t(824),De=t(799),Oe=t(788),je=t(694),Ce=t(798),Ie=t(794),_e=t(790),Te=t(777),Fe=t(786),ze=t(220),We=t.n(ze),Ne=t(221),Pe=t.n(Ne);var $e=function(){const[e,a]=Object(l.useState)([]),[t,r]=Object(l.useState)(!1),[i,o]=Object(l.useState)(!0),[c,m]=Object(l.useState)({employee_id:"",first_name:"",last_name:"",department:"",position:"",email:"",phone:"",hire_date:"",status:"Active",base_salary:""}),[s,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)([]),[h,g]=Object(l.useState)([]),[y,b]=Object(l.useState)(!1),[v,f]=Object(l.useState)(""),[S,k]=Object(l.useState)("error"),x=[{field:"ID",headerName:"ID",width:70},{field:"FirstName",headerName:"Ad\u0131",flex:1},{field:"LastName",headerName:"Soyad\u0131",flex:1},{field:"Department",headerName:"Departman",flex:1},{field:"Position",headerName:"Pozisyon",flex:1},{field:"Email",headerName:"E-posta",flex:1},{field:"Phone",headerName:"Telefon",flex:1},{field:"HireDate",headerName:"\u0130\u015fe Giri\u015f Tarihi",flex:1},{field:"Status",headerName:"Durum",flex:1},{field:"BaseSalary",headerName:"Temel Maa\u015f",flex:1},{field:"actions",type:"actions",width:100,getActions:e=>[n.a.createElement(Te.a,{icon:n.a.createElement(We.a,null),label:"Delete",onClick:()=>C(e.row.ID)}),n.a.createElement(Te.a,{icon:n.a.createElement(Pe.a,null),label:"Edit",onClick:()=>I(e.row)})]}];Object(l.useEffect)(()=>{w(),D()},[]);const w=async()=>{try{const t=await W.a.get("http://89.252.184.134:5001/employees");a(t.data),o(!1);const l=t.data.map(e=>e.ID);g(l)}catch(e){console.error("Error fetching employees:",e),o(!1)}},D=async()=>{try{const a=await W.a.get("http://89.252.184.134:5001/rfidcards");p(a.data)}catch(e){console.error("Error fetching RFID cards:",e)}},O=()=>{r(!1)},j=e=>{m({...c,[e.target.name]:e.target.value})},C=async e=>{try{await W.a.delete(`http://89.252.184.134:5001/employees/${e}`),w(),D()}catch(a){console.error("Error deleting employee:",a),f("Error deleting employee."),k("error"),b(!0)}},I=e=>{m({employee_id:e.ID,first_name:e.FirstName,last_name:e.LastName,department:e.Department,position:e.Position,email:e.Email,phone:e.Phone,hire_date:e.HireDate,status:e.Status,base_salary:e.BaseSalary}),d(!0),r(!0)},_=E.filter(e=>!h.includes(e.card_id)),T=(e,a)=>{"clickaway"!==a&&b(!1)};return n.a.createElement(u.a,{sx:{height:"80vh",width:"100%"}},n.a.createElement(u.a,{sx:{mb:2}},n.a.createElement(ie.a,{variant:"contained",onClick:()=>{r(!0),d(!1),m({employee_id:"",first_name:"",last_name:"",department:"",position:"",email:"",phone:"",hire_date:"",status:"Active",base_salary:""})}},"\xc7ALI\u015eAN EKLE")),n.a.createElement(Y.a,{elevation:3},i?n.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:400}},n.a.createElement(xe.a,null)):n.a.createElement(Fe.a,{rows:e,columns:x,pageSize:10,rowsPerPageOptions:[10],checkboxSelection:!0,disableSelectionOnClick:!0,getRowId:e=>e.ID,autoHeight:!0})),n.a.createElement(te.a,{open:t,onClose:O},n.a.createElement(le.a,null,s?"Edit Employee":"Add New Employee"),n.a.createElement(ne.a,null,n.a.createElement(u.a,{component:"form",sx:{mt:1}},n.a.createElement(we.a,{fullWidth:!0,margin:"normal"},n.a.createElement(De.a,{id:"employee-id-label"},"Employee ID"),n.a.createElement(Oe.a,{labelId:"employee-id-label",id:"employee_id",name:"employee_id",value:c.employee_id,onChange:j,disabled:s,required:!0},_.length>0?_.map(e=>n.a.createElement(je.a,{key:e.card_id,value:e.card_id},e.card_id)):n.a.createElement(je.a,{disabled:!0,value:""},"No available RFID cards"))),n.a.createElement(Ce.a,{margin:"normal",required:!0,fullWidth:!0,name:"first_name",label:"Ad\u0131",value:c.first_name,onChange:j}),n.a.createElement(Ce.a,{margin:"normal",required:!0,fullWidth:!0,name:"last_name",label:"Soyad\u0131",value:c.last_name,onChange:j}),n.a.createElement(Ce.a,{margin:"normal",required:!0,fullWidth:!0,name:"department",label:"Departman",value:c.department,onChange:j}),n.a.createElement(Ce.a,{margin:"normal",required:!0,fullWidth:!0,name:"position",label:"Pozisyon",value:c.position,onChange:j}),n.a.createElement(Ce.a,{margin:"normal",required:!0,fullWidth:!0,name:"email",label:"E-posta",type:"email",value:c.email,onChange:j}),n.a.createElement(Ce.a,{margin:"normal",required:!0,fullWidth:!0,name:"phone",label:"Telefon",value:c.phone,onChange:j}),n.a.createElement(Ce.a,{margin:"normal",required:!0,fullWidth:!0,name:"hire_date",label:"\u0130\u015fer Giri\u015f Tarihi",type:"date",value:c.hire_date,onChange:j,InputLabelProps:{shrink:!0}}),n.a.createElement(Ce.a,{margin:"normal",required:!0,fullWidth:!0,name:"status",label:"Durum",value:c.status,onChange:j}),n.a.createElement(Ce.a,{margin:"normal",required:!0,fullWidth:!0,name:"base_salary",label:"Maa\u015f",value:c.base_salary,onChange:j}))),n.a.createElement(re.a,null,n.a.createElement(ie.a,{onClick:O},"Vazge\xe7"),n.a.createElement(ie.a,{onClick:async e=>{e.preventDefault();try{s?(await W.a.put(`http://89.252.184.134:5001/employees/${c.employee_id}`,c),f("Employee updated successfully."),k("success")):(await W.a.post("http://89.252.184.134:5001/employees",c),f("Employee added successfully."),k("success")),w(),D(),O(),b(!0)}catch(a){console.error("Error:",a),a.response?(console.error("Server responded with:",a.response.data),f(a.response.data.message||"Kart Mevcut L\xfctfen Ba\u015fka Bir Kart Se\xe7in")):a.request?f("Error: No response received from the server."):f("Error: An error occurred while setting up the request."),k("error"),b(!0)}},variant:"contained"},s?"G\xfcncelle":"Ekle"))),n.a.createElement(Ie.a,{open:y,autoHideDuration:6e3,onClose:T},n.a.createElement(_e.a,{onClose:T,severity:S,sx:{width:"100%"}},v)))},Ae=t(804),Le=t(792),Be=t(783);const Re=Object(A.a)(U.a)(e=>{let{theme:a}=e;return{"&:nth-of-type(odd)":{backgroundColor:a.palette.action.hover},"&:last-child td, &:last-child th":{border:0},"&:hover":{backgroundColor:"#f0f0f0"}}}),Ke=Object(A.a)(ee.a)(e=>{let{theme:a}=e;return{fontWeight:"bold",color:"#333"}});var He=function(){const[e,a]=Object(l.useState)([]),[t,r]=Object(l.useState)(""),[i,o]=Object(l.useState)(0),[c,m]=Object(l.useState)(5),[s,d]=Object(l.useState)("daily"),[E,p]=Object(l.useState)("asc"),[g,y]=Object(l.useState)("EmployeeID"),[b,v]=Object(l.useState)((new Date).getMonth()),[f,S]=Object(l.useState)((new Date).getFullYear());Object(l.useEffect)(()=>{k()},[t,i,c,s,E,g,b,f]),Object(l.useEffect)(()=>{const e=new Date;"monthly"===s?(v(e.getMonth()),S(e.getFullYear())):"yearly"===s&&S(e.getFullYear())},[s]);const k=async()=>{try{let l=(await W.a.get("http://89.252.184.134:5001/attendance")).data.attendance;"daily"===s?l=l.filter(e=>j(new Date(e.EntryTime))):"weekly"===s?l=l.filter(e=>C(new Date(e.EntryTime))):"monthly"===s?l=l.filter(e=>I(new Date(e.EntryTime),b,f)):"yearly"===s&&(l=l.filter(e=>_(new Date(e.EntryTime),f)),null!==b&&(l=l.filter(e=>I(new Date(e.EntryTime),b,f))));let n=l;t&&(n=l.filter(e=>String(e.EmployeeID).includes(t)));const r=n.map(e=>({id:e.ID,EmployeeID:e.EmployeeID,EntryTime:x(e.EntryTime),ExitTime:x(e.ExitTime),TotalHours:w(e.EntryTime,e.ExitTime)})),i=O(r,g,E);a(i)}catch(e){console.error("Error fetching attendance:",e)}},x=e=>new Date(e).toLocaleString(),w=(e,a)=>{const t=new Date(e);return((new Date(a)-t)/36e5).toFixed(2)},D=e=>a=>{p(g===e&&"asc"===E?"desc":"asc"),y(e)},O=(e,a,t)=>e.slice().sort((e,l)=>{const n="asc"===t;return"TotalHours"===a?n?parseFloat(e[a])-parseFloat(l[a]):parseFloat(l[a])-parseFloat(e[a]):n?String(e[a]).localeCompare(String(l[a])):String(l[a]).localeCompare(String(e[a]))}),j=e=>{const a=new Date;return e.getDate()===a.getDate()&&e.getMonth()===a.getMonth()&&e.getFullYear()===a.getFullYear()},C=e=>{const a=new Date,t=new Date(a.setDate(a.getDate()-a.getDay())),l=new Date(a.setDate(a.getDate()-a.getDay()+6));return e>=t&&e<=l},I=(e,a,t)=>e.getMonth()===a&&e.getFullYear()===t,_=(e,a)=>e.getFullYear()===a;return n.a.createElement(u.a,{sx:{flexGrow:1,padding:3}},n.a.createElement(M.a,{item:!0,xs:12},n.a.createElement(h.a,{variant:"h4",gutterBottom:!0},"G\u0130R\u0130\u015e \xc7IKI\u015e L\u0130STES\u0130"),n.a.createElement(u.a,{sx:{display:"flex",justifyContent:"space-between",marginBottom:2}},n.a.createElement(Ce.a,{label:"\xc7al\u0131\u015fan ID Ara",variant:"outlined",value:t,onChange:e=>{r(e.target.value),o(0)},sx:{flex:1,marginRight:2}}),n.a.createElement(we.a,{variant:"outlined",sx:{minWidth:120,marginRight:2}},n.a.createElement(De.a,{id:"filter-label"},"Filtre"),n.a.createElement(Oe.a,{labelId:"filter-label",id:"filter",value:s,onChange:e=>{d(e.target.value),o(0)},label:"Filtre"},n.a.createElement(je.a,{value:"daily"},"G\xfcnl\xfck"),n.a.createElement(je.a,{value:"weekly"},"Haftal\u0131k"),n.a.createElement(je.a,{value:"monthly"},"Ayl\u0131k"),n.a.createElement(je.a,{value:"yearly"},"Y\u0131ll\u0131k"))),("monthly"===s||"yearly"===s)&&n.a.createElement(we.a,{variant:"outlined",sx:{minWidth:120}},n.a.createElement(De.a,{id:"month-label"},"Ay"),n.a.createElement(Oe.a,{labelId:"month-label",id:"month",value:b,onChange:e=>v(e.target.value),label:"Ay"},Array.from({length:12},(e,a)=>a).map(e=>n.a.createElement(je.a,{key:e,value:e},new Date(0,e).toLocaleString("default",{month:"long"}))))),"yearly"===s&&n.a.createElement(we.a,{variant:"outlined",sx:{minWidth:120}},n.a.createElement(De.a,{id:"year-label"},"Y\u0131l"),n.a.createElement(Oe.a,{labelId:"year-label",id:"year",value:f,onChange:e=>S(e.target.value),label:"Y\u0131l"},Array.from({length:10},(e,a)=>(new Date).getFullYear()-a).map(e=>n.a.createElement(je.a,{key:e,value:e},e))))),n.a.createElement(V.a,{component:Y.a,elevation:3},n.a.createElement(X.a,{sx:{minWidth:650},"aria-label":"simple table"},n.a.createElement(Q.a,null,n.a.createElement(U.a,null,n.a.createElement(Ke,null,"ID"),n.a.createElement(Ke,{align:"right"},n.a.createElement(Ae.a,{active:"EmployeeID"===g,direction:"EmployeeID"===g?E:"asc",onClick:D("EmployeeID")},"\xc7al\u0131\u015fan ID","EmployeeID"===g?n.a.createElement(u.a,{component:"span",sx:Be.a},"desc"===E?"sorted descending":"sorted ascending"):null)),n.a.createElement(Ke,{align:"right"},n.a.createElement(Ae.a,{active:"EntryTime"===g,direction:"EntryTime"===g?E:"asc",onClick:D("EntryTime")},"Giri\u015f Zaman\u0131","EntryTime"===g?n.a.createElement(u.a,{component:"span",sx:Be.a},"desc"===E?"sorted descending":"sorted ascending"):null)),n.a.createElement(Ke,{align:"right"},n.a.createElement(Ae.a,{active:"ExitTime"===g,direction:"ExitTime"===g?E:"asc",onClick:D("ExitTime")},"\xc7\u0131k\u0131\u015f Zaman\u0131","ExitTime"===g?n.a.createElement(u.a,{component:"span",sx:Be.a},"desc"===E?"sorted descending":"sorted ascending"):null)),n.a.createElement(Ke,{align:"right"},n.a.createElement(Ae.a,{active:"TotalHours"===g,direction:"TotalHours"===g?E:"asc",onClick:D("TotalHours")},"Toplam Saat","TotalHours"===g?n.a.createElement(u.a,{component:"span",sx:Be.a},"desc"===E?"sorted descending":"sorted ascending"):null)))),n.a.createElement(ae.a,null,e.slice(i*c,i*c+c).map(e=>n.a.createElement(Re,{key:e.id},n.a.createElement(ee.a,{component:"th",scope:"row"},e.id),n.a.createElement(ee.a,{align:"right"},e.EmployeeID),n.a.createElement(ee.a,{align:"right"},e.EntryTime),n.a.createElement(ee.a,{align:"right"},e.ExitTime),n.a.createElement(ee.a,{align:"right"},e.TotalHours)))))),n.a.createElement(Le.a,{rowsPerPageOptions:[5,10,25],component:"div",count:e.length,rowsPerPage:c,page:i,onPageChange:(e,a)=>{o(a)},onRowsPerPageChange:e=>{m(parseInt(e.target.value,10)),o(0)},sx:{marginTop:2}})))},qe=t(784),Ge=t(826);var Me=function(){const[e,a]=Object(l.useState)([]),[t,r]=Object(l.useState)(!1),[i,o]=Object(l.useState)({leave_type:"",start_date:"",end_date:"",status:"Pending"}),[c,m]=Object(l.useState)([]),[s,d]=Object(l.useState)(null),[E,h]=Object(l.useState)(!1),[g,y]=Object(l.useState)(!1),[b,v]=Object(l.useState)(""),[f,S]=Object(l.useState)(!1),[k,x]=Object(l.useState)(null),[w,D]=Object(l.useState)(!1),[O,j]=Object(l.useState)(null),C=[{field:"LeaveRequestID",headerName:"ID",width:90},{field:"FirstName",headerName:"Ad\u0131",flex:1,minWidth:100},{field:"LastName",headerName:"Soyad\u0131",flex:1,minWidth:100},{field:"EmployeeID",headerName:"\xc7al\u0131\u015fan ID",flex:1,minWidth:130},{field:"LeaveType",headerName:"\u0130zin T\xfcr\xfc",flex:1,minWidth:120},{field:"StartDate",headerName:"Ba\u015flang\u0131\xe7 Tarihi",flex:1,minWidth:120},{field:"EndDate",headerName:"Biti\u015f Tarihi",flex:1,minWidth:120},{field:"actions",headerName:"\u0130\u015flemler",width:Object(qe.a)("(max-width: 600px)")?80:100,renderCell:e=>n.a.createElement("div",null,n.a.createElement(p.a,{"aria-label":"d\xfczenle",onClick:()=>N(e.row)},n.a.createElement(Pe.a,null)),n.a.createElement(p.a,{"aria-label":"sil",onClick:()=>P(e.row.LeaveRequestID),color:"error"},n.a.createElement(We.a,null)))}];Object(l.useEffect)(()=>{I(),_()},[]);const I=async()=>{y(!0);try{const e=await W.a.get("http://89.252.184.134:5001/leave-requests");a(e.data)}catch(s){d("\u0130zin istekleri al\u0131n\u0131rken bir hata olu\u015ftu.")}finally{y(!1)}},_=async()=>{y(!0);try{const e=await W.a.get("http://89.252.184.134:5001/employee");m(e.data)}catch(s){d("\xc7al\u0131\u015fanlar al\u0131n\u0131rken bir hata olu\u015ftu.")}finally{y(!1)}},T=()=>{r(!0)},F=()=>{r(!1),o({leave_type:"",start_date:"",end_date:"",status:"Pending"}),v(""),d(null),S(!1),x(null)},z=e=>{o({...i,[e.target.name]:e.target.value})},N=e=>{S(!0),x(e.LeaveRequestID),v(e.EmployeeID),o({employee_id:e.EmployeeID,first_name:e.FirstName,last_name:e.LastName,leave_type:e.LeaveType,start_date:e.StartDate,end_date:e.EndDate,status:e.LeaveRequestStatus}),T()},P=e=>{j(e),D(!0)};return n.a.createElement(u.a,{sx:{width:"100%"}},n.a.createElement(u.a,{sx:{mb:2}},n.a.createElement(ie.a,{variant:"contained",onClick:T},"YEN\u0130 \u0130Z\u0130N \u0130STE\u011e\u0130")),n.a.createElement(Y.a,{elevation:3,sx:{width:"100%",overflowX:"auto"}},g?n.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:400}},n.a.createElement(xe.a,null)):n.a.createElement("div",{style:{width:"100%"}},n.a.createElement(Fe.a,{rows:e,columns:C,pageSize:10,rowsPerPageOptions:[10],disableSelectionOnClick:!0,getRowId:e=>e.LeaveRequestID,autoHeight:!0,sx:{"& .MuiDataGrid-columnHeaders":{backgroundColor:e=>e.palette.grey[200]}}}))),n.a.createElement(te.a,{open:t,onClose:F},n.a.createElement(le.a,null,f?"\u0130zin \u0130ste\u011fini D\xfczenle":"\u0130zin \u0130ste\u011fi G\xf6nder"),n.a.createElement(ne.a,null,n.a.createElement(u.a,{component:"form",sx:{mt:1}},n.a.createElement(we.a,{fullWidth:!0,margin:"normal"},n.a.createElement(De.a,{id:"employee-id-label"},"\xc7al\u0131\u015fan Se\xe7in"),n.a.createElement(Oe.a,{labelId:"employee-id-label",id:"employee-id",value:b,label:"\xc7al\u0131\u015fan Se\xe7in",onChange:e=>v(e.target.value)},c.map(e=>n.a.createElement(je.a,{key:e.employee_id,value:e.employee_id},e.employee_name," (",e.employee_id,")")))),n.a.createElement(we.a,{fullWidth:!0,margin:"normal"},n.a.createElement(De.a,{id:"leave-type-label"},"\u0130zin T\xfcr\xfc Se\xe7in"),n.a.createElement(Oe.a,{labelId:"leave-type-label",id:"leave-type",name:"leave_type",value:i.leave_type,label:"\u0130zin T\xfcr\xfc Se\xe7in",onChange:z},["Y\u0131ll\u0131k \u0130zin","Hastal\u0131k \u0130zni","Ki\u015fisel \u0130zin","Do\u011fum \u0130zni (Annelik)","Do\u011fum \u0130zni (Babal\u0131k)"].map(e=>n.a.createElement(je.a,{key:e,value:e},e)))),n.a.createElement(Ce.a,{margin:"normal",required:!0,fullWidth:!0,name:"start_date",label:"Ba\u015flang\u0131\xe7 Tarihi",type:"datetime-local",value:i.start_date,onChange:z,InputLabelProps:{shrink:!0}}),n.a.createElement(Ce.a,{margin:"normal",required:!0,fullWidth:!0,name:"end_date",label:"Biti\u015f Tarihi",type:"datetime-local",value:i.end_date,onChange:z,InputLabelProps:{shrink:!0}}))),n.a.createElement(re.a,null,n.a.createElement(ie.a,{onClick:F},"\u0130ptal"),n.a.createElement(ie.a,{onClick:async e=>{if(e.preventDefault(),b&&i.leave_type&&i.start_date&&i.end_date)if(new Date(i.start_date)>new Date(i.end_date))d("Ba\u015flang\u0131\xe7 tarihi biti\u015f tarihinden sonra olamaz.");else try{f?await W.a.put(`http://89.252.184.134:5001/leave-requests/${k}`,{...i,employee_id:b}):await W.a.post("http://89.252.184.134:5001/leave-requests",{...i,employee_id:b}),I(),F(),h(!0)}catch(s){d("\u0130zin iste\u011fi g\xf6nderilirken bir hata olu\u015ftu.")}else d("L\xfctfen t\xfcm alanlar\u0131 doldurun.")},variant:"contained"},f?"G\xfcncelle":"G\xf6nder"))),n.a.createElement(te.a,{open:w,onClose:()=>D(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},n.a.createElement(le.a,{id:"alert-dialog-title"},"\u0130zin \u0130ste\u011fini Sil"),n.a.createElement(ne.a,null,n.a.createElement(Ge.a,{id:"alert-dialog-description"},"\u0130zin iste\u011fini silmek istedi\u011finizden emin misiniz?")),n.a.createElement(re.a,null,n.a.createElement(ie.a,{onClick:()=>D(!1)},"\u0130ptal"),n.a.createElement(ie.a,{onClick:async()=>{try{await W.a.delete(`http://89.252.184.134:5001/leave-requests/${O}`),I(),h(!0)}catch(s){d("\u0130zin iste\u011fi silinirken bir hata olu\u015ftu.")}finally{D(!1),j(null)}},autoFocus:!0,color:"error"},"Sil"))),n.a.createElement(Ie.a,{open:!!s,autoHideDuration:6e3,onClose:()=>d(null)},n.a.createElement(_e.a,{onClose:()=>d(null),severity:"error",sx:{width:"100%"}},s)),n.a.createElement(Ie.a,{open:E,autoHideDuration:6e3,onClose:()=>h(!1)},n.a.createElement(_e.a,{onClose:()=>h(!1),severity:"success",sx:{width:"100%"}},f?"\u0130zin iste\u011fi ba\u015far\u0131yla g\xfcncellendi.":"\u0130zin iste\u011fi ba\u015far\u0131yla g\xf6nderildi.")))},Ye=t(827);const Je=Object(A.a)(u.a)({backgroundImage:"url('https://www.softwareaggov.com/wp-content/uploads/2020/12/IOT-Icons.jpeg')",backgroundSize:"cover",backgroundPosition:"center",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"});var Ze=function(){const[e,a]=Object(l.useState)(""),[t,r]=Object(l.useState)(""),[i,o]=Object(l.useState)(""),m=Object(c.q)(),{login:s}=$();return n.a.createElement(Je,null,n.a.createElement(Ye.a,{component:"main",maxWidth:"xs"},n.a.createElement(Y.a,{elevation:3,sx:{p:4,width:"100%",backdropFilter:"blur(5px)",backgroundColor:"rgba(255, 255, 255, 0.8)"}},n.a.createElement(h.a,{component:"h1",variant:"h5",align:"center",gutterBottom:!0},"PDKS Giri\u015f"),n.a.createElement(u.a,{component:"form",onSubmit:async a=>{a.preventDefault(),o("");try{await s(e,t)?m("/"):o("Ge\xe7ersiz e-posta veya \u015fifre")}catch(l){o("Giri\u015f s\u0131ras\u0131nda bir hata olu\u015ftu")}},sx:{mt:1}},n.a.createElement(Ce.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"E-posta Adresi",name:"email",autoComplete:"email",autoFocus:!0,value:e,onChange:e=>a(e.target.value),error:!!i}),n.a.createElement(Ce.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"\u015eifre",type:"password",id:"password",autoComplete:"current-password",value:t,onChange:e=>r(e.target.value),error:!!i,helperText:i}),n.a.createElement(ie.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Giri\u015f Yap")))))};var Ve=function(){const[e,a]=Object(l.useState)([]),[t,r]=Object(l.useState)(""),[i,o]=Object(l.useState)(null),[c,m]=Object(l.useState)(null),[s,d]=Object(l.useState)(""),[E,p]=Object(l.useState)(null),[g,y]=Object(l.useState)("");Object(l.useEffect)(()=>{(async()=>{try{const t=await W.a.get("http://89.252.184.134:5001/employee");a(t.data)}catch(e){console.error("Error fetching employees:",e),y("\xc7al\u0131\u015fanlar al\u0131namad\u0131.")}})()},[]),Object(l.useEffect)(()=>{t&&b()},[t]);const b=async()=>{try{const a=await W.a.get(`http://89.252.184.134:5001/attendance/${t}`),l=(new Date).toISOString().slice(0,7),n=a.data.find(e=>e.Month===l);d(n?n.OvertimeHours.toString():"0")}catch(e){console.error("Error fetching overtime data:",e),y("Fazla mesai saatleri al\u0131namad\u0131."),d("0")}};return n.a.createElement(u.a,{sx:{flexGrow:1,padding:3}},n.a.createElement(M.a,{item:!0,xs:12},n.a.createElement(h.a,{variant:"h4",gutterBottom:!0},"MAA\u015e HESAPLAMA"),n.a.createElement(Y.a,{elevation:3,sx:{padding:3}},n.a.createElement(M.a,{container:!0,spacing:2},n.a.createElement(M.a,{item:!0,xs:12,sm:6},n.a.createElement(we.a,{fullWidth:!0},n.a.createElement(De.a,{id:"employee-id-label"},"\xc7al\u0131\u015fan Se\xe7in"),n.a.createElement(Oe.a,{labelId:"employee-id-label",id:"employee-id",value:t,label:"\xc7al\u0131\u015fan Se\xe7in",onChange:e=>r(e.target.value)},e.map(e=>n.a.createElement(je.a,{key:e.employee_id,value:e.employee_id},e.employee_name," (",e.employee_id,")"))))),n.a.createElement(M.a,{item:!0,xs:12,sm:6},n.a.createElement(ie.a,{variant:"contained",color:"primary",onClick:async()=>{try{const a=await W.a.get(`http://89.252.184.134:5001/employee/${t}/base-salary`);o(a.data.base_salary);const l=a.data.base_salary/160;m(1.5*l)}catch(e){console.error("Error fetching base salary:",e),y("\xc7al\u0131\u015fan bulunamad\u0131 veya temel maa\u015f al\u0131namad\u0131."),o(null),m(null)}}},"Temel Maa\u015f\u0131 Al")),null!==i&&n.a.createElement(M.a,{item:!0,xs:12,sm:6},n.a.createElement(Ce.a,{label:"Temel Maa\u015f",variant:"outlined",value:i,fullWidth:!0,disabled:!0})),null!==c&&n.a.createElement(M.a,{item:!0,xs:12,sm:6},n.a.createElement(Ce.a,{label:"Fazla Mesai \xdccreti",variant:"outlined",value:c,fullWidth:!0,disabled:!0})),n.a.createElement(M.a,{item:!0,xs:12,sm:6},n.a.createElement(Ce.a,{label:"Fazla Mesai Saati",variant:"outlined",value:s,onChange:e=>d(e.target.value),fullWidth:!0,type:"number"})),n.a.createElement(M.a,{item:!0,xs:12},n.a.createElement(ie.a,{variant:"contained",color:"primary",onClick:async()=>{if(null!==i&&null!==c)try{const a=await W.a.post("http://89.252.184.134:5001/calculate-salary",{employee_id:t,base_salary:parseFloat(i),overtime_rate:parseFloat(c),overtime_hours:parseFloat(s)});p(a.data.total_salary),y(a.data.message)}catch(e){console.error("Error calculating salary:",e),y("Maa\u015f hesaplan\u0131rken bir hata olu\u015ftu."),p(null)}else y("L\xfctfen \xf6nce temel maa\u015f\u0131 al\u0131n.")}},"Maa\u015f Hesapla")),g&&n.a.createElement(M.a,{item:!0,xs:12},n.a.createElement(h.a,{variant:"body1",color:null!==E?"success":"error"},g)),null!==E&&n.a.createElement(M.a,{item:!0,xs:12},n.a.createElement(h.a,{variant:"h6"},"Toplam Maa\u015f: ",E))))))};const Xe=Object(A.a)(Y.a)(e=>{let{theme:a}=e;return{padding:a.spacing(2),marginBottom:a.spacing(2)}}),Qe=Object(A.a)(ee.a)(e=>{let{theme:a}=e;return{fontWeight:"bold"}});var Ue=function(){const[e,a]=Object(l.useState)([]),[t,r]=Object(l.useState)(""),[i,o]=Object(l.useState)(""),[c,m]=Object(l.useState)(""),[s,d]=Object(l.useState)(""),[E,p]=Object(l.useState)(""),[g,y]=Object(l.useState)(""),[b,v]=Object(l.useState)(0),[f,S]=Object(l.useState)(5),[k,x]=Object(l.useState)(!1),[w,D]=Object(l.useState)("success"),[O,j]=Object(l.useState)(!1),[C,I]=Object(l.useState)(null),[_,T]=Object(l.useState)(null),[F,z]=Object(l.useState)(null),[N,P]=Object(l.useState)(!1),$="http://89.252.184.134:5001";Object(l.useEffect)(()=>{A()},[]);const A=()=>{W.a.get(`${$}/rfidcard`).then(e=>a(e.data)).catch(e=>{console.error("RFID kartlar\u0131 al\u0131n\u0131rken hata olu\u015ftu:",e),y("RFID kartlar\u0131 al\u0131n\u0131rken bir hata olu\u015ftu."),D("error"),x(!0)})},L=e=>{const{name:a,value:t}=e.target;p(""),y(""),"newCardId"===a?r(t):"selectedCardId"===a?o(t):"updateCardId"===a?m(t):"deleteCardId"===a&&d(t)},B=(e,a)=>{D(e),p(""),y(""),"success"===e?p(a):y(a),x(!0)},R=(e,a)=>{"clickaway"!==a&&x(!1)},K=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;I(e),T(a),j(!0)},H=()=>{j(!1),I(null),T(null)},q=()=>{W.a.post(`${$}/rfidcards`,{card_id:t}).then(e=>{B("success",e.data.message),r(""),A()}).catch(e=>{var a,t;console.error("RFID kart\u0131 eklenirken hata olu\u015ftu:",e),B("error",(null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"RFID kart\u0131 eklenirken bir hata olu\u015ftu.")})},G=()=>{P(!1),z(null),o("")},Y=()=>{W.a.put(`${$}/rfidcards/${_.selectedCardId}`,{card_id:_.updateCardId}).then(e=>{B("success",e.data.message),o(""),m(""),A()}).catch(e=>{var a,t;console.error("RFID kart\u0131 g\xfcncellenirken hata olu\u015ftu:",e),B("error",(null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"RFID kart\u0131 g\xfcncellenirken bir hata olu\u015ftu.")})},J=()=>{W.a.delete(`${$}/rfidcards/${_.deleteCardId}`).then(e=>{B("success",e.data.message),d(""),A()}).catch(e=>{var a,t;console.error("RFID kart\u0131 silinirken hata olu\u015ftu:",e),B("error",(null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"RFID kart\u0131 silinirken bir hata olu\u015ftu.")})};return n.a.createElement(u.a,{sx:{flexGrow:1,padding:3}},n.a.createElement(h.a,{variant:"h4",gutterBottom:!0},"RFID Kart Y\xf6netimi"),n.a.createElement(Xe,{elevation:3},n.a.createElement(h.a,{variant:"h6",gutterBottom:!0},"RFID Kart Listesi"),n.a.createElement(V.a,null,n.a.createElement(X.a,{"aria-label":"rfid cards table"},n.a.createElement(Q.a,null,n.a.createElement(U.a,null,n.a.createElement(Qe,null,"Kart ID"))),n.a.createElement(ae.a,null,e.slice(b*f,b*f+f).map(e=>n.a.createElement(U.a,{key:e.card_id},n.a.createElement(ee.a,{component:"th",scope:"row"},e.card_id)))))),n.a.createElement(Le.a,{rowsPerPageOptions:[5,10,25],component:"div",count:e.length,rowsPerPage:f,page:b,onPageChange:(e,a)=>{v(a)},onRowsPerPageChange:e=>{S(parseInt(e.target.value,10)),v(0)}})),n.a.createElement(Xe,{elevation:3},n.a.createElement(h.a,{variant:"h6",gutterBottom:!0},"RFID Kart \u0130\u015flemleri"),n.a.createElement(M.a,{container:!0,spacing:2,alignItems:"center"},n.a.createElement(M.a,{item:!0,xs:12,sm:6,md:4},n.a.createElement(Ce.a,{label:"Yeni Kart ID",variant:"outlined",name:"newCardId",value:t,onChange:L,fullWidth:!0,margin:"normal"}),n.a.createElement(ie.a,{variant:"contained",color:"primary",onClick:()=>{t?K("add",{card_id:t}):B("warning","L\xfctfen bir kart ID girin.")},fullWidth:!0},"Ekle")),n.a.createElement(M.a,{item:!0,xs:12,sm:6,md:4},n.a.createElement(Ce.a,{label:"Kart ID",variant:"outlined",name:"selectedCardId",value:i,onChange:L,fullWidth:!0,margin:"normal"}),n.a.createElement(ie.a,{variant:"contained",color:"info",onClick:()=>{i?W.a.get(`${$}/rfidcards/${i}`).then(e=>{z(e.data),P(!0)}).catch(e=>{var a,t;console.error("RFID kart detaylar\u0131 al\u0131n\u0131rken hata olu\u015ftu:",e),B("error",(null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"RFID kart detaylar\u0131 bulunamad\u0131."),z(null),P(!1)}):B("warning","L\xfctfen bir kart ID girin.")},fullWidth:!0},"Detaylar\u0131 Getir")),n.a.createElement(M.a,{item:!0,xs:12,sm:6,md:4},n.a.createElement(Ce.a,{label:"Silinecek Kart ID",variant:"outlined",name:"deleteCardId",value:s,onChange:L,fullWidth:!0,margin:"normal"}),n.a.createElement(ie.a,{variant:"contained",color:"error",onClick:()=>{s?K("delete",{deleteCardId:s}):B("warning","L\xfctfen silinecek kart ID girin.")},fullWidth:!0},"Sil")))),n.a.createElement(Xe,{elevation:3},n.a.createElement(h.a,{variant:"h6",gutterBottom:!0},"RFID Kart G\xfcncelle"),n.a.createElement(M.a,{container:!0,spacing:2,alignItems:"center"},n.a.createElement(M.a,{item:!0,xs:12,sm:6,md:4},n.a.createElement(Ce.a,{label:"G\xfcncellenecek Kart ID",variant:"outlined",name:"selectedCardId",value:i,onChange:L,fullWidth:!0,margin:"normal"})),n.a.createElement(M.a,{item:!0,xs:12,sm:6,md:4},n.a.createElement(Ce.a,{label:"Yeni Kart ID",variant:"outlined",name:"updateCardId",value:c,onChange:L,fullWidth:!0,margin:"normal"})),n.a.createElement(M.a,{item:!0,xs:12,sm:6,md:4},n.a.createElement(ie.a,{variant:"contained",color:"warning",onClick:()=>{i&&c?K("update",{selectedCardId:i,updateCardId:c}):B("warning","L\xfctfen g\xfcncellenecek kart ID ve yeni kart ID girin.")},fullWidth:!0},"G\xfcncelle")))),n.a.createElement(Ie.a,{open:k,autoHideDuration:3e3,onClose:R,anchorOrigin:{vertical:"bottom",horizontal:"right"}},n.a.createElement(_e.a,{onClose:R,severity:w,sx:{width:"100%"}},E||g)),O&&n.a.createElement(te.a,{open:O,onClose:H,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},n.a.createElement(le.a,{id:"alert-dialog-title"},"add"===C&&"Yeni Kart Ekleme Onay\u0131","update"===C&&"Kart G\xfcncelleme Onay\u0131","delete"===C&&"Kart Silme Onay\u0131"),n.a.createElement(ne.a,null,n.a.createElement(Ge.a,{id:"alert-dialog-description"},"add"===C&&`"${null===_||void 0===_?void 0:_.card_id}" ID'li yeni kart\u0131 eklemek istedi\u011finize emin misiniz?`,"update"===C&&`"${null===_||void 0===_?void 0:_.selectedCardId}" ID'li kart\u0131n ID'sini "${null===_||void 0===_?void 0:_.updateCardId}" olarak g\xfcncellemek istedi\u011finize emin misiniz?`,"delete"===C&&`"${null===_||void 0===_?void 0:_.deleteCardId}" ID'li kart\u0131 silmek istedi\u011finize emin misiniz? Bu i\u015flem geri al\u0131namaz.`)),n.a.createElement(re.a,null,n.a.createElement(ie.a,{onClick:H},"\u0130ptal"),n.a.createElement(ie.a,{onClick:()=>{"add"===C?q():"update"===C?Y():"delete"===C&&J(),H()},autoFocus:!0},"Onayla"))),n.a.createElement(te.a,{open:N,onClose:G,"aria-labelledby":"rfid-card-details-title","aria-describedby":"rfid-card-details-description"},n.a.createElement(le.a,{id:"rfid-card-details-title"},"RFID Kart Detaylar\u0131"),n.a.createElement(ne.a,null,F?n.a.createElement(V.a,null,n.a.createElement(X.a,{"aria-label":"rfid card details"},n.a.createElement(Q.a,null,n.a.createElement(U.a,null,n.a.createElement(Qe,null,"Alan"),n.a.createElement(Qe,null,"De\u011fer"))),n.a.createElement(ae.a,null,n.a.createElement(U.a,{key:"employee_id"},n.a.createElement(ee.a,{component:"th",scope:"row"},"\xc7al\u0131\u015fan ID"),n.a.createElement(ee.a,null,F.employee_id)),n.a.createElement(U.a,{key:"first_name"},n.a.createElement(ee.a,{component:"th",scope:"row"},"Ad\u0131"),n.a.createElement(ee.a,null,F.first_name)),n.a.createElement(U.a,{key:"last_name"},n.a.createElement(ee.a,{component:"th",scope:"row"},"Soyad\u0131"),n.a.createElement(ee.a,null,F.last_name)),n.a.createElement(U.a,{key:"rfid_card_id"},n.a.createElement(ee.a,{component:"th",scope:"row"},"RFID Kart ID"),n.a.createElement(ee.a,null,F.rfid_card_id))))):n.a.createElement(h.a,null,"Kart detaylar\u0131 y\xfckleniyor...")),n.a.createElement(re.a,null,n.a.createElement(ie.a,{onClick:G},"Kapat"))))};const ea=Object(m.a)({palette:{primary:{main:"#1976d2"},secondary:{main:"#dc004e"}}});var aa=function(){return n.a.createElement(s.a,{theme:ea},n.a.createElement(d.a,null),n.a.createElement(P,null,n.a.createElement(o.a,null,n.a.createElement(c.d,null,n.a.createElement(c.b,{path:"/login",element:n.a.createElement(Ze,null)}),n.a.createElement(c.b,{path:"/",element:n.a.createElement(G,null)},n.a.createElement(c.b,{index:!0,element:n.a.createElement(ke,null)}),n.a.createElement(c.b,{path:"employees",element:n.a.createElement($e,null)}),n.a.createElement(c.b,{path:"attendance",element:n.a.createElement(He,null)}),n.a.createElement(c.b,{path:"leave-requests",element:n.a.createElement(Me,null)}),n.a.createElement(c.b,{path:"salary",element:n.a.createElement(Ve,null)}),n.a.createElement(c.b,{path:"rfidcards",element:n.a.createElement(Ue,null)}))))))};i.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(aa,null)))}},[[456,1,2]]]);
//# sourceMappingURL=main.02a652b6.chunk.js.map